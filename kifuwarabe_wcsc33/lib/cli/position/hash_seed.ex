defmodule KifuwarabeWcsc33.CLI.Position.HashSeed do
  @moduledoc """
    局面のハッシュ化

    ゾブリスト・ハッシュという手法を使う。
    ゾブリストさんが囲碁の盤面をコンピューターに覚えさせるために考え出した手法。
    コンピューター将棋でも使う。

    👇 手番に、ハッシュを割り当てる（２箇所）
    ┌───────┬──────┐
    │ Sente │ Gote │
    └───────┴──────┘

    👇 盤の各マスに、ハッシュを割り当てる（８１箇所 × 駒種類２９＝２３４９パターン）
    ┌───┬───┬───┬───┬───┬───┬───┬───┬───┐
    │ 91│   │   │   │   │   │   │   │ 11│
    ├───┼───┼───┼───┼───┼───┼───┼───┼───┤
    │   │   │   │   │   │   │   │   │   │
    ├───┼───┼───┼───┼───┼───┼───┼───┼───┤
    │   │   │   │   │   │   │   │   │   │
    ├───┼───┼───┼───┼───┼───┼───┼───┼───┤
    │   │   │   │   │   │   │   │   │   │
    ├───┼───┼───┼───┼───┼───┼───┼───┼───┤
    │   │   │   │   │   │   │   │   │   │
    ├───┼───┼───┼───┼───┼───┼───┼───┼───┤
    │   │   │   │   │   │   │   │   │   │
    ├───┼───┼───┼───┼───┼───┼───┼───┼───┤
    │   │   │   │   │   │   │   │   │   │
    ├───┼───┼───┼───┼───┼───┼───┼───┼───┤
    │   │   │   │   │   │   │   │   │   │
    ├───┼───┼───┼───┼───┼───┼───┼───┼───┤
    │ 99│   │   │   │   │   │   │   │ 19│
    └───┴───┴───┴───┴───┴───┴───┴───┴───┘

    ▲玉　▲飛　▲角　▲金　▲銀　▲桂　▲香　▲歩　▲竜　▲馬　▲全　▲圭　▲杏　▲と
    ▽玉　▽飛　▽角　▽金　▽銀　▽桂　▽香　▽歩　▽竜　▽馬　▽全　▽圭　▽杏　▽と
    空きマス

    👇 持ち駒の種類別の枚数に、ハッシュを割り当てる（９０か所）
         ┌───┬───┬───┐
     ▲玉 │  0│  1│  2│
         ├───┼───┼───┤
     ▲飛 │  0│  1│  2│
         ├───┼───┼───┤
     ▲角 │  0│  1│  2│
         ├───┼───┼───┼───┬───┐
     ▲金 │  0│  1│  2│  3│  4│
         ├───┼───┼───┼───┼───┤
     ▲銀 │  0│  1│  2│  3│  4│
         ├───┼───┼───┼───┼───┤
     ▲桂 │  0│  1│  2│  3│  4│
         ├───┼───┼───┼───┼───┤
     ▲香 │  0│  1│  2│  3│  4│
         ├───┼───┼───┼───┼───┼───┬───┬───┬───┬───┬───┬───┬───┬───┐───┬───┬───┬───┬───┐
     ▲歩 │  0│  1│  2│  3│  4│  5│  6│  7│  8│  9│ 10│ 11│ 12│ 13│ 14│ 15│ 16│ 17│ 18│
         ├───┼───┼───┼───┴───┴───┴───┴───┴───┴───┘───┴───┴───┴───┴───┘───┴───┴───┴───┘
    ▽玉 │  0│  1│  2│
         ├───┼───┼───┤
    ▽飛 │  0│  1│  2│
         ├───┼───┼───┤
    ▽角 │  0│  1│  2│
         ├───┼───┼───┼───┬───┐
    ▽金 │  0│  1│  2│  3│  4│
         ├───┼───┼───┼───┼───┤
    ▽銀 │  0│  1│  2│  3│  4│
         ├───┼───┼───┼───┼───┤
    ▽桂 │  0│  1│  2│  3│  4│
         ├───┼───┼───┼───┼───┤
    ▽香 │  0│  1│  2│  3│  4│
         ├───┼───┼───┼───┼───┼───┬───┬───┬───┬───┬───┬───┬───┬───┐───┬───┬───┬───┬───┐
    ▽歩 │  0│  1│  2│  3│  4│  5│  6│  7│  8│  9│ 10│ 11│ 12│ 13│ 14│ 15│ 16│ 17│ 18│
         └───┴───┴───┴───┴───┴───┴───┴───┴───┴───┘───┴───┴───┴───┴───┘───┴───┴───┴───┘

         合計で１７９箇所分のハッシュを作成する
  """
  @max_int 18_446_744_073_709_551_615

  # * `a..b` - a以上、b以下
  defstruct turn: %{sente: 0, gote: 0},
            # 盤上の駒
            board: %{
              # １段目
              91 => %{
                #
                # ▲せんて（Sente；先手） or したて（Shitate；下手）
                # ============================================
                #
                # キング（King；玉）. 対局中は玉は取れない。検討時など、盤上から玉を取り除きたいときに使う
                :k1 => 0,
                # ルック（Rook；飛）
                :r1 => 0,
                # ビショップ（Bishop；角）
                :b1 => 0,
                # ゴールド（Gold；金）
                :g1 => 0,
                # シルバー（Silver；銀）
                :s1 => 0,
                # ナイト（kNight；桂）
                :n1 => 0,
                # ランス（Lance；香）
                :l1 => 0,
                # ポーン（Pawn；歩）
                :p1 => 0,
                #
                # ▽ごて（Gote；後手） or うわて（Uwate；上手）
                # =======================================
                #
                # キング（King；玉）. 対局中は玉は取れない。検討時など、盤上から玉を取り除きたいときに使う
                :k2 => 0,
                # ルック（Rook；飛）
                :r2 => 0,
                # ビショップ（Bishop；角）
                :b2 => 0,
                # ゴールド（Gold；金）
                :g2 => 0,
                # シルバー（Silver；銀）
                :s2 => 0,
                # ナイト（kNight；桂）
                :n2 => 0,
                # ランス（Lance；香）
                :l2 => 0,
                # ポーン（Pawn；歩）
                :p2 => 0,
                #
                # 空マス
                # =====
                #
                :sp => 0
              },
              #
              # えっ、これあと８０回書くのかだぜ（＾～＾）？？ 書きたくないぜ、めんどくさいぜ（＾～＾）💦
              # =============================================================================
              #
              81 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              71 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              61 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              51 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              41 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              31 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              21 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              11 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              # ２段目
              92 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              82 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              72 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              62 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              52 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              42 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              32 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              22 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              12 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              # ３段目
              93 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              83 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              73 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              63 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              53 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              43 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              33 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              23 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              13 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              # ４段目
              94 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              84 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              74 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              64 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              54 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              44 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              34 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              24 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              14 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              # ５段目
              95 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              85 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              75 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              65 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              55 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              45 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              35 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              25 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              15 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              # ６段目
              96 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              86 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              76 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              66 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              56 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              46 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              36 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              26 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              16 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              # ７段目
              97 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              87 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              77 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              67 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              57 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              47 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              37 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              27 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              17 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              # ８段目
              98 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              88 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              78 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              68 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              58 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              48 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              38 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              28 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              18 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              # ９段目
              99 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              89 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              79 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              69 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              59 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              49 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              39 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              29 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0},
              19 => %{:k1 => 0, :r1 => 0, :b1 => 0, :g1 => 0, :s1 => 0, :n1 => 0, :l1 => 0, :p1 => 0, :k2 => 0, :r2 => 0, :b2 => 0, :g2 => 0, :s2 => 0, :n2 => 0, :l2 => 0, :p2 => 0, :sp => 0}
            },
            # 駒台（持ち駒の数）
            hand_pieces: %{
              #
              # ▲せんて（Sente；先手） or したて（Shitate；下手）
              # ============================================
              #
              # キング（King；玉）. 対局中は玉は取れない。検討時など、盤上から玉を取り除きたいときに使う
              :k1 => %{
                0 => 0,
                1 => 0,
                2 => 0},
              # ルック（Rook；飛）
              :r1 => %{
                0 => 0,
                1 => 0,
                2 => 0},
              # ビショップ（Bishop；角）
              :b1 => %{
                0 => 0,
                1 => 0,
                2 => 0},
              # ゴールド（Gold；金）
              :g1 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0},
              # シルバー（Silver；銀）
              :s1 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0},
              # ナイト（kNight；桂）
              :n1 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0},
              # ランス（Lance；香）
              :l1 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0},
              # ポーン（Pawn；歩）
              :p1 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0,
                5 => 0,
                6 => 0,
                7 => 0,
                8 => 0,
                9 => 0,
                10 => 0,
                11 => 0,
                12 => 0,
                13 => 0,
                14 => 0,
                15 => 0,
                16 => 0,
                17 => 0,
                18 => 0},
              #
              # ▽ごて（Gote；後手） or うわて（Uwate；上手）
              # =======================================
              #
              # キング（King；玉）. 対局中は玉は取れない。検討時など、盤上から玉を取り除きたいときに使う
              :k2 => %{
                0 => 0,
                1 => 0,
                2 => 0},
              # ルック（Rook；飛）
              :r2 => %{
                0 => 0,
                1 => 0,
                2 => 0},
              # ビショップ（Bishop；角）
              :b2 => %{
                0 => 0,
                1 => 0,
                2 => 0},
              # ゴールド（Gold；金）
              :g2 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0},
              # シルバー（Silver；銀）
              :s2 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0},
              # ナイト（kNight；桂）
              :n2 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0},
              # ランス（Lance；香）
              :l2 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0},
              # ポーン（Pawn；歩）
              :p2 => %{
                0 => 0,
                1 => 0,
                2 => 0,
                3 => 0,
                4 => 0,
                5 => 0,
                6 => 0,
                7 => 0,
                8 => 0,
                9 => 0,
                10 => 0,
                11 => 0,
                12 => 0,
                13 => 0,
                14 => 0,
                15 => 0,
                16 => 0,
                17 => 0,
                18 => 0},
            }

  def new() do
    hash_seed = struct!(KifuwarabeWcsc33.CLI.Position.HashSeed)

    %{
      hash_seed |
        # 手番
        turn: %{
          sente: hash(),
          gote: hash()
        },
        # 盤上の駒
        board: %{
          # １段目
          91 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          81 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          71 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          61 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          51 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          41 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          31 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          21 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          11 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          # ２段目
          92 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          82 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          72 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          62 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          52 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          42 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          32 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          22 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          12 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          # ３段目
          93 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          83 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          73 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          63 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          53 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          43 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          33 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          23 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          13 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          # ４段目
          94 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          84 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          74 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          64 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          54 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          44 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          34 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          24 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          14 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          # ５段目
          95 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          85 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          75 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          65 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          55 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          45 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          35 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          25 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          15 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          # ６段目
          96 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          86 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          76 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          66 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          56 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          46 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          36 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          26 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          16 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          # ７段目
          97 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          87 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          77 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          67 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          57 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          47 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          37 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          27 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          17 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          # ８段目
          98 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          88 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          78 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          68 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          58 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          48 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          38 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          28 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          18 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          # ９段目
          99 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          89 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          79 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          69 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          59 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          49 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          39 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          29 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()},
          19 => %{:k1 => hash(), :r1 => hash(), :b1 => hash(), :g1 => hash(), :s1 => hash(), :n1 => hash(), :l1 => hash(), :p1 => hash(), :k2 => hash(), :r2 => hash(), :b2 => hash(), :g2 => hash(), :s2 => hash(), :n2 => hash(), :l2 => hash(), :p2 => hash(), :sp => hash()}
        },
        # 駒台（持ち駒の数）
        hand_pieces: %{
          :k1 => %{
            0 => hash(),
            1 => hash(),
            2 => hash()},
          :r1 => %{
            0 => hash(),
            1 => hash(),
            2 => hash()},
          :b1 => %{
            0 => hash(),
            1 => hash(),
            2 => hash()},
          # ゴールド（Gold；金）
          :g1 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash()},
          # シルバー（Silver；銀）
          :s1 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash()},
          # ナイト（kNight；桂）
          :n1 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash()},
          # ランス（Lance；香）
          :l1 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash()},
          # ポーン（Pawn；歩）
          :p1 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash(),
            5 => hash(),
            6 => hash(),
            7 => hash(),
            8 => hash(),
            9 => hash(),
            10 => hash(),
            11 => hash(),
            12 => hash(),
            13 => hash(),
            14 => hash(),
            15 => hash(),
            16 => hash(),
            17 => hash(),
            18 => hash()},
          #
          # ▽ごて（Gote；後手） or うわて（Uwate；上手）
          # =======================================
          #
          # キング（King；玉）. 対局中は玉は取れない。検討時など、盤上から玉を取り除きたいときに使う
          :k2 => %{
            0 => hash(),
            1 => hash(),
            2 => hash()},
          # ルック（Rook；飛）
          :r2 => %{
            0 => hash(),
            1 => hash(),
            2 => hash()},
          # ビショップ（Bishop；角）
          :b2 => %{
            0 => hash(),
            1 => hash(),
            2 => hash()},
          # ゴールド（Gold；金）
          :g2 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash()},
          # シルバー（Silver；銀）
          :s2 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash()},
          # ナイト（kNight；桂）
          :n2 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash()},
          # ランス（Lance；香）
          :l2 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash()},
          # ポーン（Pawn；歩）
          :p2 => %{
            0 => hash(),
            1 => hash(),
            2 => hash(),
            3 => hash(),
            4 => hash(),
            5 => hash(),
            6 => hash(),
            7 => hash(),
            8 => hash(),
            9 => hash(),
            10 => hash(),
            11 => hash(),
            12 => hash(),
            13 => hash(),
            14 => hash(),
            15 => hash(),
            16 => hash(),
            17 => hash(),
            18 => hash()}
        }
    }
  end

  # ハッシュ値生成
  defp hash() do
    Enum.random(0..@max_int)
  end
end
